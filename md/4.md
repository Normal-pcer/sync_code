[ C ]Prefix of Suffixes

沃兹 (Wozzie) 女士有一个变长数组 $S$。起初 $S$ 是空的，而这个数组会被进行 $N$ 次操作，每一次都会在 $S$ 的结尾追加一个数字。

她希望在她追加数字时，检查当前这个数组的状态，所以她每次会给你 $A_i$, $B_i$ 两个数，让你输出 $\sum^n_{i=1} \sum^{i+z_i-1}_{j=i} A_j \times B_i$ 的当前值。定义 $z_i$ 表示 $[S_i, \dots, S_n]$ 和 $[S_1, \dots, S_n]$ 的最长公共前缀，其中 $n$ 为当前长度。

回想一下，最长公共前缀是最大的长度 $L$，满足：$a_i = b_i, \forall 1\le i \le L$。

为了保证你实时回答她的问题，她会通过你的上一个答案加密她正在向后添加的数字 $S_i$，具体加密方法在“输入格式”章节给出。